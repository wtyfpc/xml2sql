# 使用说明
执行前新建`xml`文件夹，将要处理的`.xml`文件放到`xml`目录下,
`xmltosql.jar`与`xml`文件夹在同一目录下

目录层级如下：

```
|_xmltosql.jar
|_xml
    |__bladechassis_metric_template.xml
    |__linux_metric_template.xml
    |__switch_metric_template.xml
```
## 新装
直接执行`java -jar xmltosql.jar`即可

当前目录下会生成`data/log`、`data/sql`文件夹，`log`目录下是运行日志，`sql`目录下是SQL语句

执行完成后，默认情况下对应的目录层级如下：
```
|_xmltosql.jar
|_xml
    |__bladechassis_metric_template.xml
    |__linux_metric_template.xml
    |__switch_metric_template.xml
|_data
    |__log
         |__application.log
    |__sql
         |__gv_collect_new.sql                        #新装时，用来创建表
         |__gv_collection_metric.sql                  #指标表
         |__gv_collection_metric_templ.sql            #指标模板表
         |__gv_collect_template_metric_relation.sql   #指标模板关联关系表

#建议从上到下依次执行sql目录下的.sql文件
```
## 升级
执行
`java -jar xmltosql.jar -d update -c {current_version}`

### 自定义配置项
```
-d  #指定(newinstall,update)部署模式  
-x  #指定xml文件目录
-s  #指定sql文件目录
-l  #指定log文件目录
-c  #指定当前版本信息
```
### 配置项使用示例：

**新装**：`java -jar xmltosql.jar -d newinstall`

**更新**：`java -jar xmltosql.jar -d update`

**指定xml文件夹**：`java -jar xmltosql.jar -d update -x /root/test/xml`

**指定sql输出目录**：`java -jar xmltosql.jar -d update -s /root/test/sql/`

**指定log输出目录**：`java -jar xmltosql.jar -d update -l /root/test/log/`

**指定当前版本信息**：`java -jar xmltosql.jar -d update -c {current_version}`

上述参数可以组合使用，如

`java -jar xmltosql.jar -d update -x /root/test/xml -s /root/test/sql/ -l /root/test/log/ -c {current_version}`